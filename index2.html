<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–æ—Ä–º–∞ —Å –∫–∞–ø—á–µ–π</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .form-container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        input {
            width: 100%;
            padding: 8px;
            margin-bottom: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #218838;
        }
        .captcha-container {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }
        .captcha-code {
            font-size: 24px;
            font-weight: bold;
            margin-right: 10px;
            padding: 5px 10px;
            background-color: #eee;
            border-radius: 4px;
        }
        .message {
            margin-top: 20px;
            padding: 10px;
            border-radius: 4px;
            display: none;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h2>–§–æ—Ä–º–∞ —Å –∫–∞–ø—á–µ–π</h2>
        <form id="captcha-form">
            <label for="name">–í–∞—à–µ –∏–º—è:</label>
            <input type="text" id="name" required>

            <label for="email">–í–∞—à email:</label>
            <input type="email" id="email" required>

            <div class="captcha-container">
                <div class="captcha-code" id="captcha-code"></div>
                <button type="button" id="refresh-captcha">üîÑ</button>
            </div>

            <label for="captcha-input">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏:</label>
            <input type="text" id="captcha-input" required>

            <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
    </div>

    <div id="response-message" class="message"></div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const captchaCodeElement = document.getElementById('captcha-code');
        const refreshCaptchaButton = document.getElementById('refresh-captcha');
        const captchaForm = document.getElementById('captcha-form');
        const responseMessage = document.getElementById('response-message');

        let captchaCode = generateCaptcha();

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–æ–¥–∞ –∫–∞–ø—á–∏
        function generateCaptcha() {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let result = '';
            for (let i = 0; i < 6; i++) {
                result += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return result;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–ø—á–∏
        function refreshCaptcha() {
            captchaCode = generateCaptcha();
            captchaCodeElement.textContent = captchaCode;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ø—á–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            refreshCaptcha();
        });

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–ø—á–∏ –ø–æ –∫–Ω–æ–ø–∫–µ
        refreshCaptchaButton.addEventListener('click', () => {
            refreshCaptcha();
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        captchaForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const userInput = document.getElementById('captcha-input').value;

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–ø—á–∏
            if (userInput === captchaCode) {
                showMessage('–§–æ—Ä–º–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!', 'success');
                captchaForm.reset();
                refreshCaptcha();
            } else {
                showMessage('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –∫–∞–ø—á–∏!', 'error');
                refreshCaptcha();
            }
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
        function showMessage(text, type) {
            responseMessage.textContent = text;
            responseMessage.className = `message ${type}`;
            responseMessage.style.display = 'block';
            setTimeout(() => {
                responseMessage.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>